!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t.index=t.index||{},t.index.js={}))}(this,function(t){"use strict";var e,n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},i=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)},r={top:0,left:0,width:0,height:0,initial:!0},o=function(t){return[].concat(i(document.querySelectorAll(t))).reduceRight(function(t,e,n){var r=e.getBoundingClientRect(),o={bbox:r,el:e},u=t.find(function(t){return t.find(function(t){return Math.abs(t.bbox.top-r.top)<=4})});return u?t.splice(t.indexOf(u),1,[].concat(i(u),[o])):t.push([o]),t},[])},u=function(t){var e=t.reduce(function(t,e){var n=t.top,i=t.left,r=t.width,o=t.height,u=t.initial,f=e.bbox,h=f.top,c=f.left,p=c+f.width,a=h+f.height;return{top:u||h<n?h:n,left:u||c<i?c:i,width:p>r?p:r,height:a>o?a:o,initial:!1}},r);return n({},e,{width:e.width-e.left,height:e.height-e.top})},f=function(t){return o(t).map(function(t){return u(t)}).reverse()},h=function(t,e,n,i){var r=i[n-1],o=0===n?e.top:r.top+r.height,u=[[e.left,o],[e.left+e.width,o]],f=[[e.left+e.width,o+e.height],[e.left,o+e.height]];return t.push.apply(t,u.concat(f)),t},c=function(t,e,n,i){var r=i[n-1],o=0===n?e.top:r.top+r.height,u=[[e.left,o+e.height],[e.left,o]];return t.push.apply(t,u),t},p=function(t){var e=f(t),n=e.reduce(h,[]),i=e.reduceRight(c,[]);return n.concat(i)},a={getPoints:p,polygonString:(e=p,function(){return e.apply(void 0,arguments).map(function(t){return t.join(",")}).join(" ")})},l=a.getPoints,d=a.polygonString;t.default=a,t.getPoints=l,t.polygonString=d,Object.defineProperty(t,"__esModule",{value:!0})});
